<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <ul id='ul'>
    <li class='a1'>
      <span>这是什么鬼</span>a1
    </li>
    <li class='a2'>a2</li>
    <li class='a3'>a3</li>
    <li class='a4'>a4</li>
    <li class='a5'>a5</li>
    <li class='a6'>a6</li>
    <li class='a7'>a7</li>
    <li class='a8'>a8</li>
    <li class='a9'>a9</li>
    <li class='a0'>a0</li>
  </ul>
  <script>
    function delegate(parentDOM,selector,eventType,callback){
      parentDOM.addEventListener(eventType,e => {
        let el = e.target;
        while(!el.matches(selector)){
          if(el === parentDOM){
            el = null
            break
          }
          el = el.parentNode
        }
        el && callback.call(el,e,el)
      })
    }
    delegate(document.getElementById('ul'),'li','click',(a,b) => {
      console.log(a,b)
    })
  </script>
</body>
</html>